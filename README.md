# BasicWebProject

Базовый проект для разработки веб-приложения

Клонируйте репозиторий и добавьте необходимый код
```
- удалите все из папки c:/xampp/htdocs
(или переименуюте папку в htdocs1 и создайте новую htdocs) в проводнике
- перейдите в терминале Git Bash в папку c:/xampp/htdocs
cd c:/xampp/htdocs
- выполните клонирование репозитория
git clone https://github.com/Coopteh/BasicWebProject.git
- перейдите в папку BasicWebProject
cd BasicWebProject
- переключиться на ветку service (журнал услуг)
git checkout service
- в Проводнике, скопируйте все файлы из BasicWebProject в папку c:/xampp/htdocs
- удалите пустую папку BasicWebProject
- в терминале, перейдите htdocs
cd ..
- выполните создание автозагрузчика в htdocs
composer install

- запустите XAMPP (Apache + mySQL)
- по описанию предметной области (из задания) создайте базу данных (demo) в phpMyAdmin с таблицами и связями, добавьте 3-10 записей в каждую из таблиц
- запустите localhost в браузере
- создайте приложение в Visual Studio Code
1) подключите базу данных в DBStorage, const DNS = 'mysql:dbname=demo_service
dbname= измените на свое название БД (demo)
1) измените название приложения на АИС "Журнал .."
2) добавьте описание на главную: 
назначение приложения (из описания предметной области задания),
что делать первым шагом (авторизоваться через меню Вход для просмотра журнала)
3) изменить название в меню на свое ("Услуги", "Рейсы", "Оценки")

Измените код основного журнала:
1) Начните с Router 
- замените (Ctrl+H) все слова Service на свое слово (Flight))
- имена классов должны начинаться с Заглавной (большой) буквы;
- поля, переменные, маршруты - с прописной (маленькой) буквы.

2) Переименуйте Controller/Services.php на Controller/Flights.php
- замените (Ctrl+H) все слова Service на свое слово (Flight))
проверьте:
- имена классов должны начинаться с Заглавной (большой) буквы;
- переменные, имена полей - с прописной (маленькой) буквы.

3) Переименуйте Models/ServiceDBStorage.php на Models/FlightDBStorage.php
- замените (Ctrl+H) все слова Service на свое слово (Flight))
проверьте:
- имена классов должны начинаться с Заглавной (большой) буквы;
- переменные, имена полей - с прописной (маленькой) буквы.

4) Переименуйте Views/ServiceTemplate.php на Views/FlightTemplate.php
- замените (Ctrl+H) все слова Service на свое слово (Flight))
проверьте:
- имена классов должны начинаться с Заглавной (большой) буквы;
- переменные, имена полей - с прописной (маленькой) буквы.

5) еще раз проверьте файлы Router.php, Controller/Flights.php, Models/FlightDBStorage.php, Views/FlightTemplate.php
на наличие ошибок - подчеркнутых красной или желтой волнистой линией словах!
исправьте все ошибки и неточности

6) загрузите localhost, авторизуйтесь под ролью с повышенными правими:
- попробуйте открыть журнал и выполнить необходимые операции:
добавление, изменение, удаление
- исправьте все ошибки

7) загрузите localhost, авторизуйтесь под ролью с правом только просмотра:
- попробуйте открыть журнал;
- убедитесь, что на просмотр доступны только записи авторизованного пользователя;
- убедитесь, что нет кнопок на удаление, изменение и добавление записей;
- исправьте все ошибки, если они есть.
```
## Описание проекта

1. Файловая структура - используется MVC архитектурный паттерн проектирования и разработки кода, который заключается в:
- (M) models - содержит классы работающие с данными (БД)
- (V) views - представление информации пользователю в виде веб-страниц
- (C) controllers - бизнес-логика приложения, контроллер обрабатывает запрос пользователя, взаимодействуя с моделями и формируя ответ в виде заполенного информацией представления.

2. Структура проекта - приложение состоит из классов, каждый из которых выполняет единственную функцию.

3. Макет и тех.характеристики - для адаптивной разметки и дизайна используется фреймворк bootstrap (js, css библиотеки), который позволяет одинаково хорошо взаимодействовать с пользователем как на мобильных устройствах, так и на десктопе.

4. Обратная связь - отправка сообщений реализована в базовом классе представлений, что позволяет отображать сообщения для любого представления (любой веб-страницы).

5. Обработка ошибок - производится на клиенте (атрибуты html-кода) и на сервере (проверка бизнес-логики введенных значений), в случае ошибки выдается соответствующее сообщение с повторным выводом формы для ввода данных

6. Оформление кода - переменные, методы и классы носят осмысленные названия, кратко описывающие что они делают. Для php используется верблюжий стиль именования camelCase (cтандарт PSR-1)

7. Комментарии - используются в местах требующих пояснения, хороший код читается как обычный текст (если учитываются правила оформления кода)

## Создание базы данных 

Запустите `XAMPP \ Apache + MySQL` и откройте в браузере `phpMyAdmin` (`localhost/phpmyadmin/`)  
Создайте новую базу данных, задайте ей имя (`mydb`) c `utf8mb4_general_ci`  
Создайте таблицу (например `users`) c нужными полями  
```
id_user — int, auto_increment, primary_key
email — varchar(100)
password — varchar(100)
role — varchar(100) default value = 'student'
fio  — varchar(100)
```
Добавьте пару записей в таблицу (меню `Вставить`) 
```
(email, password, role, fio)
teacher@mai.ru, 12345678!, teacher, Иванов В.В.
user1@mai.ru, 1234567!, student, Петров И.И.
```
